# メソッド

## 副作用

関数には主に、主作用と副作用がある

主作用：関数が引数を受け取り値を返すこと

副作用: 主作用以外に状態変更がすること
	インスタンス変数の変更
	グローバル変数の変更
	引数の変更
	ファイルの読み書きなどのI/O操作


この副作用を抑えるためには、データ・状態を引数で受け取る
状態を変更しない、値は、関数の戻り値として返す。

また、状態を管理するメソッドで、値変更後の新しいインスタンスを生成して渡すことで、他に影響なく変換できる

基本的には、変数を不変にすることで対策できる

可変の場合は、ミューテーターを使って状態変更を管理することが大切である

また、関数外のデータベースなどのコードの外側に依存しすぎると管理が難しくなる
そこで、リポジトリパターンなどを使ってデータソースのロジックを隔離して管理する

## 凝集度

 凝集度とは、モジュール内における、データとロジックの関係性の強さを表す指標のこと
データとロジックが分離しているなど、モジュール内の関連性が低い物を低凝集と呼ぶ

### staticメソッド

staticメソッドなども気をつけなければ、低凝集になってしまう恐れがある。
staticメソッドは、インスタンス変数を使用することができないので、結合度が下がってしまう。

🙆‍♂️	基本staticメソッドは、ファクトリメソッドや、ログ出力、フォーマット整形用のメソッドとして定義しておくのが良い


❌　UtilやComonといった共通処理クラスを実装すると、雑多に共通処理を入れられてしまうことがある
🙆‍♂️	できる限り共通メソッドを作らずに、オブジェクト思考で設計する.
	そうすれば、わざわざ共通処理に書かなくても、再利用性の高いメソッドを作ることができる。
🙆‍♂️	横断的関心事は、staticメソッドで定義してしまって問題ない
	ログ
	エラー検出
	デバッグ
	例外処理
	キャッシュ
	同期処理
	分散処理

❌　引数を変更したり、それを出力することはやめるべき
	それを行うといちいちメソッド内のロジックを確認しないといけないし、バグにも繋がりかねない
🙆‍♂️	オブジェクト指向の原則に従い、データを持つメソッドと、それを利用するメソッドを同じクラス内に実装し、出力引数として使わないようにすること


### private + ファクトリパターン

メソッド内で使うオブジェクトの生成方法をカプセル化することによって、クライアントコードから隠蔽することで、
クラス名やコンストラクタのパラメータを直接扱わなくて済むようにする
